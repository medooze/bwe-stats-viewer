<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Drag and Drop File Uploading</title>
		<link rel="canonical" href="https://css-tricks.com/examples/DragAndDropFileUploading/">
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<link rel="stylesheet" href="css/main.css" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,400" />
		<style>

			html
			{
			}
			body
			{
				font-family: Roboto, sans-serif;
				color: #0f3c4b;
				background-color: #e5edf1;
				padding: 5rem 1.25rem; /* 80 20 */
			}
			.chartdiv 
			{
				width: 100%;
				height: 500px;
			}



		</style>

	</head>
	<body>
		<div class="uploader" role="main">
			<h1><a href="/article-url"></a></h1>
			<form method="post" enctype="multipart/form-data" novalidate class="box has-advanced-upload">
				<div class="box__input">
					<svg class="box__icon" xmlns="http://www.w3.org/2000/svg" width="50" height="43" viewBox="0 0 50 43"><path d="M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z" /></svg>
					<input type="file" name="files[]" id="file" class="box__file" data-multiple-caption="{count} files selected" multiple />
					<label for="file"><strong>Choose a file</strong><span class="box__dragndrop"> or drag it here</span>.</label>
					<button type="submit" class="box__button">Upload</button>
				</div>
			</form>
		</div>
		<div class="chartdiv" style="display:none"></div>
		     
	</body>
</html>
<script src="https://www.amcharts.com/lib/4/core.js"></script>
<script src="https://www.amcharts.com/lib/4/charts.js"></script>
<script src="https://www.amcharts.com/lib/4/themes/dataviz.js"></script>
<script src="js/color-hash.js"></script>
<script src="js/uploader.js"></script>
<script src="js/displayer.js"></script>

<script>
	function createTable (data) {
		var table = document.createElement ('table');
		var row = {};
		var cell = {};

		data.forEach (function (rowData) {
			row = table.insertRow (-1); // [-1] for last position in Safari
			rowData.forEach (function (cellData) {
				cell = row.insertCell ();
				cell.textContent = cellData;
			});
		});
		document.body.appendChild (table);
	}

	am4core.ready(function() {
		// Themes begin
		am4core.useTheme(am4themes_dataviz);
		// applying the effect for every form
		var uploader = document.querySelector ('.uploader');
		var chartdiv = document.querySelector ('.chartdiv');
		var form = document.querySelector ('.uploader .box');
		//Listen for uploads
		OnFileUpload (form, (csv) => {
			//Hide uploaded
			uploader.style.display = "none";
			//Show graph
			chartdiv.style.display = "inherit";
			//Show data
			DisplayData(csv);
		});
	});
</script>
